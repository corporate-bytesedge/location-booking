!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=0,c=["accepts","cache","contents","contentType","crossDomain","data","dataType","headers","ifModified","mimeType","password","processData","timeout","traditional","type","url","username"],d=function(a){return a};a.ajaxSetup({converters:{"postmessage text":d,"postmessage json":d,"postmessage html":d}}),a.ajaxTransport("postmessage",function(d){if(d.postMessage&&window.postMessage){var e,f=a("<a>").prop("href",d.postMessage)[0],g=f.protocol+"//"+f.host,h=d.xhr().upload;return{send:function(f,i){b+=1;var j={id:"postmessage-transport-"+b},k="message."+j.id;e=a('<iframe style="display:none;" src="'+d.postMessage+'" name="'+j.id+'"></iframe>').bind("load",function(){a.each(c,function(a,b){j[b]=d[b]}),j.dataType=j.dataType.replace("postmessage ",""),a(window).bind(k,function(b){b=b.originalEvent;var c,d=b.data;b.origin===g&&d.id===j.id&&("progress"===d.type?(c=document.createEvent("Event"),c.initEvent(d.type,!1,!0),a.extend(c,d),h.dispatchEvent(c)):(i(d.status,d.statusText,{postmessage:d.result},d.headers),e.remove(),a(window).unbind(k)))}),e[0].contentWindow.postMessage(j,g)}).appendTo(document.body)},abort:function(){e&&e.remove()}}}})});